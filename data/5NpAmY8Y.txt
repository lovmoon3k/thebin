海阔视界规则分享，当前分享的是：二级页面详情￥page_detail￥图标集：星零云2.0@@eyJkYXRhIjoie1wiYXNzb2NpYXRlZE1vZGVsc01hcEZvckpvaW5UYWJsZVwiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhGS1wiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhvdXRGS1wiOnt9LFwiZmllbGRzVG9TZXRUb0RlZmF1bHRcIjpbXSxcImdtdE1vZGlmaWVkXCI6MCxcImlkXCI6MCxcImxhc3RfY2hhcHRlcl9ydWxlXCI6XCJcIixcImxpc3RUb0NsZWFyQXNzb2NpYXRlZEZLXCI6W10sXCJsaXN0VG9DbGVhclNlbGZGS1wiOltdLFwicGFnZUxpc3RcIjpbe1wibmFtZVwiOlwiSWNvbmZvbnRcIixcInBhdGhcIjpcIkljb25mb250XCIsXCJydWxlXCI6XCJjb25zdCBJY29uZm9udCA9IHtcXG4gICAgZW1wdHk6ICdoaWtlcjovL2VtcHR5JyxcXG4gICAgZDogW10sXFxuICAgIGZpbGVzOiB7XFxuICAgICAgICBsaWtlczogXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvanMvVHlyYW50R2VuZXNpc19JY29uZm9udOaUtuiXjy5qc1xcXCIsXFxuICAgIH0sXFxuICAgIGNvbGxlY3Rpb25MaXN0UGFyc2U6IChsaXN0KSA9PiB7XFxuICAgICAgICBsaXN0LmZvckVhY2goaXRlbSA9PiB7XFxuICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKFxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS5Vc2VyLm5pY2tuYW1lLFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5KS5ydWxlKChpZCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIEljb25mb250LnVzZXJQYXJzZShpZClcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoSWNvbmZvbnQuZClcXG4gICAgICAgICAgICAgICAgICAgIH0sIGl0ZW0uVXNlci5pZCksXFxuICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiAnaHR0cHM6JytpdGVtLlVzZXIuYXZhdGFyKydAUmVmZXJlcj1odHRwczovL3d3dy5pY29uZm9udC5jbi8nLFxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+Wbvuagh+mbhu+8micraXRlbS5uYW1lLFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5KS5ydWxlKChpZCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIEljb25mb250LmNvbGxlY3Rpb25QYXJzZShpZClcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoSWNvbmZvbnQuZClcXG4gICAgICAgICAgICAgICAgICAgIH0sIGl0ZW0uaWQpLFxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLFxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lVmlzaWJsZTogZmFsc2UsXFxuICAgICAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgKVxcbiAgICAgICAgICAgIGl0ZW0uaWNvbnMuZm9yRWFjaChpY29uID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IHN2Z191cmwgPSAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS9hcGkvaWxsdXN0cmF0ZS5zdmc/c3ZnX3N0cmluZz0nK2VuY29kZVVSSUNvbXBvbmVudChpY29uLnNob3dfc3ZnKVxcbiAgICAgICAgICAgICAgICBJY29uZm9udC5kLnB1c2goe1xcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGljb24ubmFtZSxcXG4gICAgICAgICAgICAgICAgICAgIHVybDogJChJY29uZm9udC5lbXB0eSkucnVsZSgobmFtZSwgc2hvd19zdmcpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5pY29uUGFyc2UobmFtZSwgc2hvd19zdmcpXFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxuICAgICAgICAgICAgICAgICAgICB9LCBpY29uLm5hbWUsIGljb24uc2hvd19zdmcpLFxcbiAgICAgICAgICAgICAgICAgICAgcGljX3VybDogc3ZnX3VybCxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl81JyxcXG4gICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIEljb25mb250LmQucHVzaCh7XFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZV9ibGFuaydcXG4gICAgICAgICAgICB9KVxcbiAgICAgICAgfSlcXG4gICAgfSxcXG4gICAgdXNlclBhcnNlOiAodWlkKSA9PiB7XFxuICAgICAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly93d3cuaWNvbmZvbnQuY24vYXBpL3VzZXIvY29sbGVjdGlvbnMuanNvbj91aWQ9Jyt1aWQrJyZ0eXBlPWljb24nXFxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCh1cmwpKVxcbiAgICAgICAgY29uc3QgbGlzdCA9IGpzb24uZGF0YS5jb2xsZWN0aW9uc1xcblxcbiAgICAgICAgbGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xcbiAgICAgICAgICAgIGlmIChpdGVtLmhhc19zZWNyZXQgPT09IDApIHtcXG4gICAgICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKHtcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Zu+5qCH6ZuG77yaJytpdGVtLm5hbWUsXFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkpLnJ1bGUoKGlkKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxuICAgICAgICAgICAgICAgICAgICAgICAgSWNvbmZvbnQuY29sbGVjdGlvblBhcnNlKGlkKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcbiAgICAgICAgICAgICAgICAgICAgfSwgaXRlbS5pZCksXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsXFxuICAgICAgICAgICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcXG4gICAgICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIGl0ZW0uaWNvbnMuZm9yRWFjaChpY29uID0+IHtcXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdmdfdXJsID0gJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vYXBpL2lsbHVzdHJhdGUuc3ZnP3N2Z19zdHJpbmc9JytlbmNvZGVVUklDb21wb25lbnQoaWNvbi5zaG93X3N2ZylcXG4gICAgICAgICAgICAgICAgICAgIEljb25mb250LmQucHVzaCh7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGljb24ubmFtZSxcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkpLnJ1bGUoKG5hbWUsIHNob3dfc3ZnKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5pY29uUGFyc2UobmFtZSwgc2hvd19zdmcpXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGljb24ubmFtZSwgaWNvbi5zaG93X3N2ZyksXFxuICAgICAgICAgICAgICAgICAgICAgICAgcGljX3VybDogc3ZnX3VybCxcXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fNScsXFxuICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICBJY29uZm9udC5kLnB1c2goe1xcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lX2JsYW5rJ1xcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pXFxuICAgIH0sXFxuICAgIGljb25QYXJzZTogKG5hbWUsIHN2Z191cmwpID0+IHtcXG4gICAgICAgIGxldCB0cnVlX3N2Z191cmwgPSAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS9hcGkvaWxsdXN0cmF0ZS5zdmc/c3ZnX3N0cmluZz0nK2VuY29kZVVSSUNvbXBvbmVudChzdmdfdXJsKVxcbiAgICAgICAgSWNvbmZvbnQuZC5wdXNoKFxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdXJsOiAnY29weTovLycrdHJ1ZV9zdmdfdXJsLFxcbiAgICAgICAgICAgICAgICBwaWNfdXJsOiB0cnVlX3N2Z191cmwsXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHRpdGxlOiAn5aSN5Yi25Zu+5qCHJyxcXG4gICAgICAgICAgICAgICAgdXJsOiAnY29weTovLycrdHJ1ZV9zdmdfdXJsLFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+WkjeWItlNWRycsXFxuICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly8nK3N2Z191cmwsXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMScsXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHRpdGxlOiAn5pS26JeP5Zu+5qCHJyxcXG4gICAgICAgICAgICAgICAgdXJsOiAkKHRydWVfc3ZnX3VybCkubGF6eVJ1bGUoKG5hbWUsIHN2Z191cmwpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF0dGVudGlvbiA9IG5hbWUrJyQkJCcrc3ZnX3VybFxcblxcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEgZmlsZUV4aXN0KEljb25mb250LmZpbGVzLmxpa2VzKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlRmlsZShJY29uZm9udC5maWxlcy5saWtlcywgYXR0ZW50aW9uKVxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUZpbGUoSWNvbmZvbnQuZmlsZXMubGlrZXMsIGZldGNoKEljb25mb250LmZpbGVzLmxpa2VzKStcXFwiXFxcXG5cXFwiK2F0dGVudGlvbilcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKVxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+aUtuiXj+aIkOWKn1xcXCJcXG4gICAgICAgICAgICAgICAgfSwgbmFtZSwgc3ZnX3VybCksXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMScsXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgIClcXG4gICAgfSxcXG4gICAgY29sbGVjdGlvblBhcnNlOiAoaWQpID0+IHtcXG4gICAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL3d3dy5pY29uZm9udC5jbi9hcGkvY29sbGVjdGlvbi9kZXRhaWwuanNvbj9pZD0nK2lkXFxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCh1cmwpKVxcbiAgICAgICAgY29uc3QgbGlzdCA9IGpzb24uZGF0YS5pY29uc1xcblxcbiAgICAgICAgbGlzdC5mb3JFYWNoKGljb24gPT4ge1xcbiAgICAgICAgICAgIGxldCBzdmdfdXJsID0gJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vYXBpL2lsbHVzdHJhdGUuc3ZnP3N2Z19zdHJpbmc9JytlbmNvZGVVUklDb21wb25lbnQoaWNvbi5zaG93X3N2ZylcXG4gICAgICAgICAgICBJY29uZm9udC5kLnB1c2goe1xcbiAgICAgICAgICAgICAgICB0aXRsZTogaWNvbi5uYW1lLFxcbiAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkpLnJ1bGUoKG5hbWUsIHNob3dfc3ZnKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXG4gICAgICAgICAgICAgICAgICAgIEljb25mb250Lmljb25QYXJzZShuYW1lLCBzaG93X3N2ZylcXG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcbiAgICAgICAgICAgICAgICB9LCBpY29uLm5hbWUsIGljb24uc2hvd19zdmcpLFxcbiAgICAgICAgICAgICAgICBwaWNfdXJsOiBzdmdfdXJsLFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fNScsXFxuICAgICAgICAgICAgfSlcXG4gICAgICAgIH0pXFxuICAgIH0sXFxuICAgIGJhc2VQYXJzZTogKCkgPT4ge1xcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZ2V0UmVzQ29kZSgpKVxcblxcbiAgICAgICAgaWYgKHBhcnNlSW50KE1ZX1BBR0UpID09PSAxKSB7XFxuICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKFxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkrXFxcIiNmdWxsVGhlbWUjJCRmeXBhZ2VcXFwiKS5ydWxlKCgpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5pY29uU2VhcmNoUGFyc2UoKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcbiAgICAgICAgICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS9zZWFyY2guc3ZnJyxcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y2V5Zu+5qCH5pCc57SiJyxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiaWNvbl80XFxcIixcXG4gICAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5K1xcXCIjZnVsbFRoZW1lIyQkZnlwYWdlXFxcIikucnVsZSgoKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxuICAgICAgICAgICAgICAgICAgICAgICAgSWNvbmZvbnQuY29sbGVjdGlvblNlYXJjaFBhcnNlKClcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoSWNvbmZvbnQuZClcXG4gICAgICAgICAgICAgICAgICAgIH0pLFxcbiAgICAgICAgICAgICAgICAgICAgcGljX3VybDogJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vY29sbGVjdGlvbi5zdmcnLFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICflm77moIfpm4bmkJzntKInLFxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJpY29uXzRcXFwiLFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkpLnJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIEljb25mb250Lmxpa2VzUGFyc2UoKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcbiAgICAgICAgICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS9saWtlLnN2ZycsXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aUtuiXj+WbvuaghycsXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcImljb25fNFxcXCIsXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIC8vIHtcXG4gICAgICAgICAgICAgICAgLy8gICAgIHVybDogJChJY29uZm9udC5lbXB0eStcXFwiI2Z1bGxUaGVtZSMkJGZ5cGFnZVxcXCIpLnJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIEljb25mb250Lmxpa2VzUGFyc2UoKVxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcbiAgICAgICAgICAgICAgICAvLyAgICAgfSksXFxuICAgICAgICAgICAgICAgIC8vICAgICBwaWNfdXJsOiAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS90b29sLnN2ZycsXFxuICAgICAgICAgICAgICAgIC8vICAgICB0aXRsZTogJ+W3peWFtycsXFxuICAgICAgICAgICAgICAgIC8vICAgICBjb2xfdHlwZTogXFxcImljb25fNFxcXCIsXFxuICAgICAgICAgICAgICAgIC8vIH0sXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZV9ibGFuaydcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIClcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIEljb25mb250LmNvbGxlY3Rpb25MaXN0UGFyc2UoanNvbi5kYXRhLmxpc3RzKVxcbiAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxuICAgIH0sXFxuICAgIGNvbGxlY3Rpb25TZWFyY2hQYXJzZTogKCkgPT4ge1xcbiAgICAgICAgYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgICAgICBjbGVhckl0ZW0oJ3NlYXJjaFZhbHVlJylcXG4gICAgICAgIH0pKVxcblxcbiAgICAgICAgY29uc3QgcGFnZSA9IE1ZX1VSTC5zcGxpdCgnJCQnKVsxXVxcblxcbiAgICAgICAgaWYgKHBhcnNlSW50KHBhZ2UpID09PSAxKSB7XFxuICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKHtcXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLFxcbiAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnc2VhcmNoVmFsdWUnLCBpbnB1dClcXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKVxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICAgICAgZGVzYzogJ+ivt+i+k+WFpeWFs+mUruivjScsXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICAgICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRJdGVtKCdzZWFyY2hWYWx1ZScsICcnKSxcXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0SXRlbSgnc2VhcmNoVmFsdWUnLCAnJykgJiYgIWlucHV0KSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnc2VhcmNoVmFsdWUnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vd3d3Lmljb25mb250LmNuL2FwaS9jb2xsZWN0aW9ucy5qc29uP3R5cGU9MyZzb3J0PXRpbWUmbGltaXQ9OCZwYWdlPScrcGFnZSsnJmtleXdvcmQ9JytnZXRJdGVtKCdzZWFyY2hWYWx1ZScsICcnKVxcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZmV0Y2godXJsKSlcXG4gICAgICAgIEljb25mb250LmNvbGxlY3Rpb25MaXN0UGFyc2UoanNvbi5kYXRhLmxpc3RzKVxcbiAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxuICAgIH0sXFxuICAgIGljb25TZWFyY2hQYXJzZTogKCkgPT4ge1xcbiAgICAgICAgYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgICAgICBjbGVhckl0ZW0oJ3NlYXJjaFZhbHVlJylcXG4gICAgICAgIH0pKVxcblxcbiAgICAgICAgY29uc3QgcGFnZSA9IE1ZX1VSTC5zcGxpdCgnJCQnKVsxXVxcblxcbiAgICAgICAgaWYgKHBhcnNlSW50KHBhZ2UpID09PSAxKSB7XFxuICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKHtcXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLFxcbiAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnc2VhcmNoVmFsdWUnLCBpbnB1dClcXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKVxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICAgICAgZGVzYzogJ+ivt+i+k+WFpeWFs+mUruivjScsXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICAgICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRJdGVtKCdzZWFyY2hWYWx1ZScsICcnKSxcXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0SXRlbSgnc2VhcmNoVmFsdWUnLCAnJykgJiYgIWlucHV0KSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnc2VhcmNoVmFsdWUnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgaWYgKGdldEl0ZW0oJ3NlYXJjaFZhbHVlJywgJycpICE9PSAnJykge1xcbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3d3dy5pY29uZm9udC5jbi9hcGkvaWNvbi9zZWFyY2guanNvbicsIHtcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgQ29va2llOiAnY3Rva2VuPWN0b2tlbjsnLFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcXG4gICAgICAgICAgICAgICAgYm9keToge1xcbiAgICAgICAgICAgICAgICAgICAgcTogZ2V0SXRlbSgnc2VhcmNoVmFsdWUnLCAnJyksXFxuICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogJ3VwZGF0ZWRfYXQnLFxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiA2MCxcXG4gICAgICAgICAgICAgICAgICAgIGN0b2tlbjogJ2N0b2tlbicsXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KSlcXG5cXG4gICAgICAgICAgICBjb25zdCBsaXN0ID0ganNvbi5kYXRhLmljb25zXFxuXFxuICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGljb24gPT4ge1xcbiAgICAgICAgICAgICAgICBsZXQgc3ZnX3VybCA9ICdodHRwczovL2ljb25mb250LnR5cmFudGcuY29tL2FwaS9pbGx1c3RyYXRlLnN2Zz9zdmdfc3RyaW5nPScrZW5jb2RlVVJJQ29tcG9uZW50KGljb24uc2hvd19zdmcpXFxuICAgICAgICAgICAgICAgIEljb25mb250LmQucHVzaCh7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaWNvbi5uYW1lLFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5KS5ydWxlKChuYW1lLCBzaG93X3N2ZykgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIEljb25mb250Lmljb25QYXJzZShuYW1lLCBzaG93X3N2ZylcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoSWNvbmZvbnQuZClcXG4gICAgICAgICAgICAgICAgICAgIH0sIGljb24ubmFtZSwgaWNvbi5zaG93X3N2ZyksXFxuICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBzdmdfdXJsLFxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzUnLFxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH0pXFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIGxpa2VzUGFyc2U6ICgpID0+IHtcXG4gICAgICAgIGNvbnN0IGxpc3QgPSBmZXRjaChJY29uZm9udC5maWxlcy5saWtlcykuc3BsaXQoXFxcIlxcXFxuXFxcIilcXG5cXG4gICAgICAgIGxpc3QuZm9yRWFjaCgoaWNvbiwgaW5kZXgpID0+IHtcXG4gICAgICAgICAgICBpZiAoaWNvbikge1xcbiAgICAgICAgICAgICAgICBsZXQgW25hbWUsIHN2Z10gPSBpY29uLnNwbGl0KCckJCQnKVxcbiAgICAgICAgICAgICAgICBsZXQgc3ZnX3VybCA9ICdodHRwczovL2ljb25mb250LnR5cmFudGcuY29tL2FwaS9pbGx1c3RyYXRlLnN2Zz9zdmdfc3RyaW5nPScrZW5jb2RlVVJJQ29tcG9uZW50KHN2ZylcXG5cXG4gICAgICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKHtcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBuYW1lLFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5KS5ydWxlKChuYW1lLCBzdmcpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5pY29uUGFyc2UobmFtZSwgc3ZnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcbiAgICAgICAgICAgICAgICAgICAgfSwgbmFtZSwgc3ZnKSxcXG4gICAgICAgICAgICAgICAgICAgIHBpY191cmw6IHN2Z191cmwsXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fNScsXFxuICAgICAgICAgICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+e9rumhtuWbvuaghycsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygobGlzdCwgaW5kZXgpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gbGlzdFtpbmRleF1cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnVuc2hpZnQoY3VycmVudClcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUZpbGUoSWNvbmZvbnQuZmlsZXMubGlrZXMsIGxpc3Quam9pbihcXFwiXFxcXG5cXFwiKSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v572u6aG25oiQ5YqfXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbGlzdCwgaW5kZXgpXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y+W5raI5pS26JePJyxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChsaXN0LCBpbmRleCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlRmlsZShJY29uZm9udC5maWxlcy5saWtlcywgbGlzdC5qb2luKFxcXCJcXFxcblxcXCIpKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/lj5bmtojmiJDlip9cXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsaXN0LCBpbmRleClcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxcbiAgICAgICAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KVxcbiAgICB9LFxcbiAgICB0b29sUGFyc2U6ICgpID0+IHtcXG5cXG4gICAgfSxcXG59XFxuXFxuJC5leHBvcnRzID0gSWNvbmZvbnRcXG5cIn1dLFwicGFyYW1zXCI6XCJ7XFxcImxpbmVWaXNpYmxlXFxcIjpmYWxzZX1cIixcInNhdmVkXCI6ZmFsc2UsXCJ0aXRsZVwiOlwiSWNvbmZvbnRcIixcInZlcnNpb25cIjowLFwidXJsXCI6XCJoaWtlcjovL2VtcHR5O2dldDtVVEYtODt7VXNlci1BZ2VudEBNb3ppbGxhLzUuMCAoTGludXjvvJvvvJsgQW5kcm9pZCAxMe+8m++8myBNaSAxMCBQcm8pIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OC4wLjQzMjQuMTUyIE1vYmlsZSBTYWZhcmkvNTM3LjM2fVwiLFwiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcImZpbmRfcnVsZVwiOlwianM6KFxcbihpZCkgPT4ge1xcbiAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL0ljb25mb250XFxcIik7XFxuICAgIEljb25mb250LmNvbGxlY3Rpb25QYXJzZShpZCk7XFxuICAgIHNldFJlc3VsdChJY29uZm9udC5kKTtcXG59XFxuKSg0MzUyOClcIixcImdyb3VwXCI6XCJUeXJhbnRHXCIsXCJ1YVwiOlwibW9iaWxlXCIsXCJwcmVSdWxlXCI6XCJcIixcInBhZ2VzXCI6XCJbe1xcXCJuYW1lXFxcIjpcXFwiSWNvbmZvbnRcXFwiLFxcXCJwYXRoXFxcIjpcXFwiSWNvbmZvbnRcXFwiLFxcXCJydWxlXFxcIjpcXFwiY29uc3QgSWNvbmZvbnQgPSB7XFxcXG4gICAgZW1wdHk6ICdoaWtlcjovL2VtcHR5JyxcXFxcbiAgICBkOiBbXSxcXFxcbiAgICBmaWxlczoge1xcXFxuICAgICAgICBsaWtlczogXFxcXFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2pzL1R5cmFudEdlbmVzaXNfSWNvbmZvbnTmlLbol48uanNcXFxcXFxcIixcXFxcbiAgICB9LFxcXFxuICAgIGNvbGxlY3Rpb25MaXN0UGFyc2U6IChsaXN0KSA9PiB7XFxcXG4gICAgICAgIGxpc3QuZm9yRWFjaChpdGVtID0+IHtcXFxcbiAgICAgICAgICAgIEljb25mb250LmQucHVzaChcXFxcbiAgICAgICAgICAgICAgICB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLlVzZXIubmlja25hbWUsXFxcXG4gICAgICAgICAgICAgICAgICAgIHVybDogJChJY29uZm9udC5lbXB0eSkucnVsZSgoaWQpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgSWNvbmZvbnQudXNlclBhcnNlKGlkKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxcXG4gICAgICAgICAgICAgICAgICAgIH0sIGl0ZW0uVXNlci5pZCksXFxcXG4gICAgICAgICAgICAgICAgICAgIHBpY191cmw6ICdodHRwczonK2l0ZW0uVXNlci5hdmF0YXIrJ0BSZWZlcmVyPWh0dHBzOi8vd3d3Lmljb25mb250LmNuLycsXFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJyxcXFxcbiAgICAgICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgICAgIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICflm77moIfpm4bvvJonK2l0ZW0ubmFtZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5KS5ydWxlKChpZCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5jb2xsZWN0aW9uUGFyc2UoaWQpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoSWNvbmZvbnQuZClcXFxcbiAgICAgICAgICAgICAgICAgICAgfSwgaXRlbS5pZCksXFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJyxcXFxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICApXFxcXG4gICAgICAgICAgICBpdGVtLmljb25zLmZvckVhY2goaWNvbiA9PiB7XFxcXG4gICAgICAgICAgICAgICAgbGV0IHN2Z191cmwgPSAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS9hcGkvaWxsdXN0cmF0ZS5zdmc/c3ZnX3N0cmluZz0nK2VuY29kZVVSSUNvbXBvbmVudChpY29uLnNob3dfc3ZnKVxcXFxuICAgICAgICAgICAgICAgIEljb25mb250LmQucHVzaCh7XFxcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpY29uLm5hbWUsXFxcXG4gICAgICAgICAgICAgICAgICAgIHVybDogJChJY29uZm9udC5lbXB0eSkucnVsZSgobmFtZSwgc2hvd19zdmcpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgSWNvbmZvbnQuaWNvblBhcnNlKG5hbWUsIHNob3dfc3ZnKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxcXG4gICAgICAgICAgICAgICAgICAgIH0sIGljb24ubmFtZSwgaWNvbi5zaG93X3N2ZyksXFxcXG4gICAgICAgICAgICAgICAgICAgIHBpY191cmw6IHN2Z191cmwsXFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl81JyxcXFxcbiAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgIEljb25mb250LmQucHVzaCh7XFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lX2JsYW5rJ1xcXFxuICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgfSlcXFxcbiAgICB9LFxcXFxuICAgIHVzZXJQYXJzZTogKHVpZCkgPT4ge1xcXFxuICAgICAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly93d3cuaWNvbmZvbnQuY24vYXBpL3VzZXIvY29sbGVjdGlvbnMuanNvbj91aWQ9Jyt1aWQrJyZ0eXBlPWljb24nXFxcXG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKHVybCkpXFxcXG4gICAgICAgIGNvbnN0IGxpc3QgPSBqc29uLmRhdGEuY29sbGVjdGlvbnNcXFxcblxcXFxuICAgICAgICBsaXN0LmZvckVhY2goaXRlbSA9PiB7XFxcXG4gICAgICAgICAgICBpZiAoaXRlbS5oYXNfc2VjcmV0ID09PSAwKSB7XFxcXG4gICAgICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICflm77moIfpm4bvvJonK2l0ZW0ubmFtZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5KS5ydWxlKChpZCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5jb2xsZWN0aW9uUGFyc2UoaWQpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoSWNvbmZvbnQuZClcXFxcbiAgICAgICAgICAgICAgICAgICAgfSwgaXRlbS5pZCksXFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJyxcXFxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgIGl0ZW0uaWNvbnMuZm9yRWFjaChpY29uID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN2Z191cmwgPSAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS9hcGkvaWxsdXN0cmF0ZS5zdmc/c3ZnX3N0cmluZz0nK2VuY29kZVVSSUNvbXBvbmVudChpY29uLnNob3dfc3ZnKVxcXFxuICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5kLnB1c2goe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGljb24ubmFtZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChJY29uZm9udC5lbXB0eSkucnVsZSgobmFtZSwgc2hvd19zdmcpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5pY29uUGFyc2UobmFtZSwgc2hvd19zdmcpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBpY29uLm5hbWUsIGljb24uc2hvd19zdmcpLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgcGljX3VybDogc3ZnX3VybCxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl81JyxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgIEljb25mb250LmQucHVzaCh7XFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZV9ibGFuaydcXFxcbiAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KVxcXFxuICAgIH0sXFxcXG4gICAgaWNvblBhcnNlOiAobmFtZSwgc3ZnX3VybCkgPT4ge1xcXFxuICAgICAgICBsZXQgdHJ1ZV9zdmdfdXJsID0gJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vYXBpL2lsbHVzdHJhdGUuc3ZnP3N2Z19zdHJpbmc9JytlbmNvZGVVUklDb21wb25lbnQoc3ZnX3VybClcXFxcbiAgICAgICAgSWNvbmZvbnQuZC5wdXNoKFxcXFxuICAgICAgICAgICAge1xcXFxuICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly8nK3RydWVfc3ZnX3VybCxcXFxcbiAgICAgICAgICAgICAgICBwaWNfdXJsOiB0cnVlX3N2Z191cmwsXFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9mdWxsJyxcXFxcbiAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICB7XFxcXG4gICAgICAgICAgICAgICAgdGl0bGU6ICflpI3liLblm77moIcnLFxcXFxuICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly8nK3RydWVfc3ZnX3VybCxcXFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxcXFxuICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgIHtcXFxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+WkjeWItlNWRycsXFxcXG4gICAgICAgICAgICAgICAgdXJsOiAnY29weTovLycrc3ZnX3VybCxcXFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxcXFxuICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgIHtcXFxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+aUtuiXj+WbvuaghycsXFxcXG4gICAgICAgICAgICAgICAgdXJsOiAkKHRydWVfc3ZnX3VybCkubGF6eVJ1bGUoKG5hbWUsIHN2Z191cmwpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxcXG4gICAgICAgICAgICAgICAgICAgIGxldCBhdHRlbnRpb24gPSBuYW1lKyckJCQnK3N2Z191cmxcXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICBpZiAoISBmaWxlRXhpc3QoSWNvbmZvbnQuZmlsZXMubGlrZXMpKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUZpbGUoSWNvbmZvbnQuZmlsZXMubGlrZXMsIGF0dGVudGlvbilcXFxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlRmlsZShJY29uZm9udC5maWxlcy5saWtlcywgZmV0Y2goSWNvbmZvbnQuZmlsZXMubGlrZXMpK1xcXFxcXFwiXFxcXFxcXFxuXFxcXFxcXCIrYXR0ZW50aW9uKVxcXFxuICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKVxcXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+aUtuiXj+aIkOWKn1xcXFxcXFwiXFxcXG4gICAgICAgICAgICAgICAgfSwgbmFtZSwgc3ZnX3VybCksXFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJyxcXFxcbiAgICAgICAgICAgIH0sXFxcXG4gICAgICAgIClcXFxcbiAgICB9LFxcXFxuICAgIGNvbGxlY3Rpb25QYXJzZTogKGlkKSA9PiB7XFxcXG4gICAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL3d3dy5pY29uZm9udC5jbi9hcGkvY29sbGVjdGlvbi9kZXRhaWwuanNvbj9pZD0nK2lkXFxcXG4gICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKHVybCkpXFxcXG4gICAgICAgIGNvbnN0IGxpc3QgPSBqc29uLmRhdGEuaWNvbnNcXFxcblxcXFxuICAgICAgICBsaXN0LmZvckVhY2goaWNvbiA9PiB7XFxcXG4gICAgICAgICAgICBsZXQgc3ZnX3VybCA9ICdodHRwczovL2ljb25mb250LnR5cmFudGcuY29tL2FwaS9pbGx1c3RyYXRlLnN2Zz9zdmdfc3RyaW5nPScrZW5jb2RlVVJJQ29tcG9uZW50KGljb24uc2hvd19zdmcpXFxcXG4gICAgICAgICAgICBJY29uZm9udC5kLnB1c2goe1xcXFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpY29uLm5hbWUsXFxcXG4gICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5KS5ydWxlKChuYW1lLCBzaG93X3N2ZykgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXFxcbiAgICAgICAgICAgICAgICAgICAgSWNvbmZvbnQuaWNvblBhcnNlKG5hbWUsIHNob3dfc3ZnKVxcXFxuICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoSWNvbmZvbnQuZClcXFxcbiAgICAgICAgICAgICAgICB9LCBpY29uLm5hbWUsIGljb24uc2hvd19zdmcpLFxcXFxuICAgICAgICAgICAgICAgIHBpY191cmw6IHN2Z191cmwsXFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzUnLFxcXFxuICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgfSlcXFxcbiAgICB9LFxcXFxuICAgIGJhc2VQYXJzZTogKCkgPT4ge1xcXFxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShnZXRSZXNDb2RlKCkpXFxcXG5cXFxcbiAgICAgICAgaWYgKHBhcnNlSW50KE1ZX1BBR0UpID09PSAxKSB7XFxcXG4gICAgICAgICAgICBJY29uZm9udC5kLnB1c2goXFxcXG4gICAgICAgICAgICAgICAge1xcXFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkrXFxcXFxcXCIjZnVsbFRoZW1lIyQkZnlwYWdlXFxcXFxcXCIpLnJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5pY29uU2VhcmNoUGFyc2UoKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiAnaHR0cHM6Ly9pY29uZm9udC50eXJhbnRnLmNvbS9zZWFyY2guc3ZnJyxcXFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfljZXlm77moIfmkJzntKInLFxcXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJpY29uXzRcXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgICAgIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKEljb25mb250LmVtcHR5K1xcXFxcXFwiI2Z1bGxUaGVtZSMkJGZ5cGFnZVxcXFxcXFwiKS5ydWxlKCgpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgSWNvbmZvbnQuY29sbGVjdGlvblNlYXJjaFBhcnNlKClcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcXFxuICAgICAgICAgICAgICAgICAgICB9KSxcXFxcbiAgICAgICAgICAgICAgICAgICAgcGljX3VybDogJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vY29sbGVjdGlvbi5zdmcnLFxcXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+Wbvuagh+mbhuaQnOe0oicsXFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImljb25fNFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICAgICAge1xcXFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkpLnJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5saWtlc1BhcnNlKClcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcXFxuICAgICAgICAgICAgICAgICAgICB9KSxcXFxcbiAgICAgICAgICAgICAgICAgICAgcGljX3VybDogJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vbGlrZS5zdmcnLFxcXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aUtuiXj+WbvuaghycsXFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImljb25fNFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICAgICAgLy8ge1xcXFxuICAgICAgICAgICAgICAgIC8vICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkrXFxcXFxcXCIjZnVsbFRoZW1lIyQkZnlwYWdlXFxcXFxcXCIpLnJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxcXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBJY29uZm9udC5saWtlc1BhcnNlKClcXFxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcXFxuICAgICAgICAgICAgICAgIC8vICAgICB9KSxcXFxcbiAgICAgICAgICAgICAgICAvLyAgICAgcGljX3VybDogJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vdG9vbC5zdmcnLFxcXFxuICAgICAgICAgICAgICAgIC8vICAgICB0aXRsZTogJ+W3peWFtycsXFxcXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbF90eXBlOiBcXFxcXFxcImljb25fNFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgIC8vIH0sXFxcXG4gICAgICAgICAgICAgICAge1xcXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmVfYmxhbmsnXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgKVxcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgSWNvbmZvbnQuY29sbGVjdGlvbkxpc3RQYXJzZShqc29uLmRhdGEubGlzdHMpXFxcXG4gICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcXFxuICAgIH0sXFxcXG4gICAgY29sbGVjdGlvblNlYXJjaFBhcnNlOiAoKSA9PiB7XFxcXG4gICAgICAgIGFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxcXG4gICAgICAgICAgICBjbGVhckl0ZW0oJ3NlYXJjaFZhbHVlJylcXFxcbiAgICAgICAgfSkpXFxcXG5cXFxcbiAgICAgICAgY29uc3QgcGFnZSA9IE1ZX1VSTC5zcGxpdCgnJCQnKVsxXVxcXFxuXFxcXG4gICAgICAgIGlmIChwYXJzZUludChwYWdlKSA9PT0gMSkge1xcXFxuICAgICAgICAgICAgSWNvbmZvbnQuZC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+aQnOe0oicsXFxcXG4gICAgICAgICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnc2VhcmNoVmFsdWUnLCBpbnB1dClcXFxcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpXFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIlxcXFxuICAgICAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgICAgIGRlc2M6ICfor7fovpPlhaXlhbPplK7or40nLFxcXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgICAgICAgICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0SXRlbSgnc2VhcmNoVmFsdWUnLCAnJyksXFxcXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAkLnRvU3RyaW5nKCgpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRJdGVtKCdzZWFyY2hWYWx1ZScsICcnKSAmJiAhaW5wdXQpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3NlYXJjaFZhbHVlJylcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9KVxcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vd3d3Lmljb25mb250LmNuL2FwaS9jb2xsZWN0aW9ucy5qc29uP3R5cGU9MyZzb3J0PXRpbWUmbGltaXQ9OCZwYWdlPScrcGFnZSsnJmtleXdvcmQ9JytnZXRJdGVtKCdzZWFyY2hWYWx1ZScsICcnKVxcXFxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCh1cmwpKVxcXFxuICAgICAgICBJY29uZm9udC5jb2xsZWN0aW9uTGlzdFBhcnNlKGpzb24uZGF0YS5saXN0cylcXFxcbiAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxcXG4gICAgfSxcXFxcbiAgICBpY29uU2VhcmNoUGFyc2U6ICgpID0+IHtcXFxcbiAgICAgICAgYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpID0+IHtcXFxcbiAgICAgICAgICAgIGNsZWFySXRlbSgnc2VhcmNoVmFsdWUnKVxcXFxuICAgICAgICB9KSlcXFxcblxcXFxuICAgICAgICBjb25zdCBwYWdlID0gTVlfVVJMLnNwbGl0KCckJCcpWzFdXFxcXG5cXFxcbiAgICAgICAgaWYgKHBhcnNlSW50KHBhZ2UpID09PSAxKSB7XFxcXG4gICAgICAgICAgICBJY29uZm9udC5kLnB1c2goe1xcXFxuICAgICAgICAgICAgICAgIHRpdGxlOiAn5pCc57SiJyxcXFxcbiAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdzZWFyY2hWYWx1ZScsIGlucHV0KVxcXFxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG4gICAgICAgICAgICAgICAgfSksXFxcXG4gICAgICAgICAgICAgICAgZGVzYzogJ+ivt+i+k+WFpeWFs+mUruivjScsXFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXFxcXG4gICAgICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRJdGVtKCdzZWFyY2hWYWx1ZScsICcnKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6ICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldEl0ZW0oJ3NlYXJjaFZhbHVlJywgJycpICYmICFpbnB1dCkge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnc2VhcmNoVmFsdWUnKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0pXFxcXG4gICAgICAgIH1cXFxcblxcXFxuICAgICAgICBpZiAoZ2V0SXRlbSgnc2VhcmNoVmFsdWUnLCAnJykgIT09ICcnKSB7XFxcXG4gICAgICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuaWNvbmZvbnQuY24vYXBpL2ljb24vc2VhcmNoLmpzb24nLCB7XFxcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcXFxuICAgICAgICAgICAgICAgICAgICBDb29raWU6ICdjdG9rZW49Y3Rva2VuOycsXFxcXG4gICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcXFxcbiAgICAgICAgICAgICAgICBib2R5OiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHE6IGdldEl0ZW0oJ3NlYXJjaFZhbHVlJywgJycpLFxcXFxuICAgICAgICAgICAgICAgICAgICBzb3J0VHlwZTogJ3VwZGF0ZWRfYXQnLFxcXFxuICAgICAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxcXFxuICAgICAgICAgICAgICAgICAgICBwYWdlU2l6ZTogNjAsXFxcXG4gICAgICAgICAgICAgICAgICAgIGN0b2tlbjogJ2N0b2tlbicsXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfSkpXFxcXG5cXFxcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBqc29uLmRhdGEuaWNvbnNcXFxcblxcXFxuICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGljb24gPT4ge1xcXFxuICAgICAgICAgICAgICAgIGxldCBzdmdfdXJsID0gJ2h0dHBzOi8vaWNvbmZvbnQudHlyYW50Zy5jb20vYXBpL2lsbHVzdHJhdGUuc3ZnP3N2Z19zdHJpbmc9JytlbmNvZGVVUklDb21wb25lbnQoaWNvbi5zaG93X3N2ZylcXFxcbiAgICAgICAgICAgICAgICBJY29uZm9udC5kLnB1c2goe1xcXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaWNvbi5uYW1lLFxcXFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkpLnJ1bGUoKG5hbWUsIHNob3dfc3ZnKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIEljb25mb250Lmljb25QYXJzZShuYW1lLCBzaG93X3N2ZylcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChJY29uZm9udC5kKVxcXFxuICAgICAgICAgICAgICAgICAgICB9LCBpY29uLm5hbWUsIGljb24uc2hvd19zdmcpLFxcXFxuICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBzdmdfdXJsLFxcXFxuICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fNScsXFxcXG4gICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgIH0pXFxcXG4gICAgICAgIH1cXFxcbiAgICB9LFxcXFxuICAgIGxpa2VzUGFyc2U6ICgpID0+IHtcXFxcbiAgICAgICAgY29uc3QgbGlzdCA9IGZldGNoKEljb25mb250LmZpbGVzLmxpa2VzKS5zcGxpdChcXFxcXFxcIlxcXFxcXFxcblxcXFxcXFwiKVxcXFxuXFxcXG4gICAgICAgIGxpc3QuZm9yRWFjaCgoaWNvbiwgaW5kZXgpID0+IHtcXFxcbiAgICAgICAgICAgIGlmIChpY29uKSB7XFxcXG4gICAgICAgICAgICAgICAgbGV0IFtuYW1lLCBzdmddID0gaWNvbi5zcGxpdCgnJCQkJylcXFxcbiAgICAgICAgICAgICAgICBsZXQgc3ZnX3VybCA9ICdodHRwczovL2ljb25mb250LnR5cmFudGcuY29tL2FwaS9pbGx1c3RyYXRlLnN2Zz9zdmdfc3RyaW5nPScrZW5jb2RlVVJJQ29tcG9uZW50KHN2ZylcXFxcblxcXFxuICAgICAgICAgICAgICAgIEljb25mb250LmQucHVzaCh7XFxcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBuYW1lLFxcXFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoSWNvbmZvbnQuZW1wdHkpLnJ1bGUoKG5hbWUsIHN2ZykgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbmZvbnQgPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9JY29uZm9udCcpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBJY29uZm9udC5pY29uUGFyc2UobmFtZSwgc3ZnKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KEljb25mb250LmQpXFxcXG4gICAgICAgICAgICAgICAgICAgIH0sIG5hbWUsIHN2ZyksXFxcXG4gICAgICAgICAgICAgICAgICAgIHBpY191cmw6IHN2Z191cmwsXFxcXG4gICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl81JyxcXFxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfnva7pobblm77moIcnLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygobGlzdCwgaW5kZXgpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25mb250ID0gJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvSWNvbmZvbnQnKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGxpc3RbaW5kZXhdXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSlcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QudW5zaGlmdChjdXJyZW50KVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVGaWxlKEljb25mb250LmZpbGVzLmxpa2VzLCBsaXN0LmpvaW4oXFxcXFxcXCJcXFxcXFxcXG5cXFxcXFxcIikpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v572u6aG25oiQ5YqfXFxcXFxcXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbGlzdCwgaW5kZXgpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y+W5raI5pS26JePJyxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGxpc3QsIGluZGV4KSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uZm9udCA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL0ljb25mb250JylcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVGaWxlKEljb25mb250LmZpbGVzLmxpa2VzLCBsaXN0LmpvaW4oXFxcXFxcXCJcXFxcXFxcXG5cXFxcXFxcIikpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5Y+W5raI5oiQ5YqfXFxcXFxcXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbGlzdCwgaW5kZXgpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXFxcXG4gICAgICAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSlcXFxcbiAgICB9LFxcXFxuICAgIHRvb2xQYXJzZTogKCkgPT4ge1xcXFxuXFxcXG4gICAgfSxcXFxcbn1cXFxcblxcXFxuJC5leHBvcnRzID0gSWNvbmZvbnRcXFxcblxcXCJ9XVwifSIsInRpdGxlIjoi5Zu+5qCH6ZuG77ya5pif6Zu25LqRMi4wIn0=