#!/usr/bin/env python
# -*- coding: utf-8 -*-

# Implementar un juego de piedra, papel o tijera, humano vs computadora.
# Se deben seleccionar la cantidad de rondas a jugar y mostrar el resultado
# parcial después de cada ronda y el resultado final, indicando el 
# ganador. Debe tener opción de jugar nuevamente

import random

def menu():
    return """
    *-------------------*
      Menu de opciones
    1. Jugar una partida
    2. Salir
    *-------------------*
    """

def ingresar():
    while True:
        rondas = input("Ingrese las rondas a jugar: ")
        if rondas.isdecimal() and int(rondas) != 0:
            return int(rondas)
        print("Error, debe ingresar un numero entero mayor a cero")
        

def jugar(rondas):
    pts_usuario = 0
    pts_compu = 0
    opciones = ["piedra", "papel", "tijera"]
    
    for ronda in range(rondas):
        
        # Los jugadores eligen su mano
        
        print(f"\n Ronda {ronda + 1}")
        while True:
            valor_usuario = input("Elija piedra, papel o tijera: ")
            # lower() pasa todo a minúscula
            # strip() borra los espacios en blanco al principio y final
            if valor_usuario.lower().strip() in opciones:
                break
            else:
                print("Opción incorrecta...")
        valor_compu = random.choice(opciones)
        print(f"La compu eligió {valor_compu}")


        # vemos quien gano
        if valor_compu == valor_usuario:
            pts_usuario = pts_usuario + 1
            pts_compu = pts_compu + 1
            print("Ronda empatada")
            print(f"Resultado parcial: compu {pts_compu} - usuario {pts_usuario}")
        
            
        elif (valor_usuario == "piedra" and valor_compu == "tijera") or \
            (valor_usuario == "tijera" and valor_compu == "papel") or \
            (valor_usuario == "papel" and valor_compu == "piedra"):
                pts_usuario = pts_usuario + 2
                print("Ronda ganada por usuario")
                print(f"Resultado parcial: compu {pts_compu} - usuario {pts_usuario}")
        
        else:
            pts_compu = pts_compu + 2
            print("Ronda ganada por la compu")
            print(f"Resultado parcial: compu {pts_compu} - usuario {pts_usuario}")
        
    
    # vemos quien ganó la partida:
    if pts_compu > pts_usuario:
        print("Partida ganada por la compu... jajajaj")
        print(f"Resultado final: compu {pts_compu} - usuario {pts_usuario}")
        
    elif pts_compu < pts_usuario:
        print("Partida ganada por el usuario... grrrr")
        print(f"Resultado final: compu {pts_compu} - usuario {pts_usuario}")
        
    else:
        print("Partida empatada... hmmmm")
        print(f"Resultado final: compu {pts_compu} - usuario {pts_usuario}")
        
        



print("Piedra, papel o tijera: humano vs computadora")

while True:
    print(menu())
    
    opcion = input("Ingrese una opcion: ")
    
    
    if opcion == "1":
        rondas = ingresar()
        jugar(rondas)
    
        
    elif opcion == "2":
        print("Gracias por jugar conmigo.... Hasta la próxima...")
        break
    
        
    else:
        print("Opción incorrecta")